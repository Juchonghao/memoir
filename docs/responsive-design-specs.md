# 纪传体AI应用 - 响应式设计规范

**版本:** 1.0 | **日期:** 2025-10-31

---

## 1. 断点系统

### 1.1 断点定义

```css
/* 移动优先策略 */
$breakpoint-sm: 640px;   /* 手机横屏 */
$breakpoint-md: 768px;   /* 平板竖屏 */
$breakpoint-lg: 1024px;  /* 桌面 */
$breakpoint-xl: 1280px;  /* 大桌面 */
$breakpoint-2xl: 1536px; /* 超大桌面 */
```

### 1.2 设备分类与设计策略

| 设备类型 | 屏幕范围 | 设计策略 | 触摸优化 |
|---------|---------|---------|---------|
| **手机竖屏** | 320-639px | 单列布局，大按钮，底部导航 | 必须 |
| **手机横屏/小平板** | 640-767px | 单列或2列，适度紧凑 | 必须 |
| **平板** | 768-1023px | 2-3列，混合布局 | 推荐 |
| **桌面** | 1024-1279px | 多列，悬浮交互 | 可选 |
| **大桌面** | 1280px+ | 最大容器宽度，充分留白 | 不需要 |

---

## 2. 核心界面响应式适配

### 2.1 欢迎引导页

#### 桌面端 (≥1024px)
```
Hero区: 100vh高
  - 标题: 80px Display
  - 副标题: 24px Body
  - CTA按钮: 56px高，居中

价值主张: 3列卡片
  - 每列: 33.33%宽
  - 卡片间距: 32px

产品包介绍: 3列对比
  - 每列: 33.33%宽
  - 垂直对齐，强调尊享包
```

#### 平板端 (768-1023px)
```
Hero区: 70vh高
  - 标题: 56px
  - 副标题: 21px

价值主张: 3列保持
  - 卡片间距缩减至24px

产品包介绍: 2列 + 1列
  - 基础包+进阶包并排（50%各）
  - 尊享包独立一行（100%宽，突出）
```

#### 手机端 (<768px)
```
Hero区: 60vh高
  - 标题: 40px
  - 副标题: 18px
  - CTA按钮: 宽度100% - 32px边距

价值主张: 单列
  - 卡片堆叠，间距24px

产品包介绍: 单列
  - 垂直堆叠，每个包独立卡片
  - 尊享包用琥珀金边框突出
```

---

### 2.2 记忆回溯访谈界面（三区联动）

#### 桌面端 (≥1024px) - 标准三区布局
```
┌──────────────────────────────────────────┐
│  顶栏: 64px高                             │
├───────────┬──────────────┬───────────────┤
│ AI记者区  │  镜像引擎区  │  故事锚点区   │
│ 25%宽     │  50%宽       │  25%宽        │
│ 固定侧栏  │  滚动        │  滚动侧栏     │
│           │              │               │
│ 记者头像  │  镜像画布    │  时代素材卡片 │
│ 48x48px   │  1:1比例     │  120x160px    │
│           │  max 600px   │               │
│ 对话气泡  │              │  事件时间线   │
│ 最大320px │  年代选择器  │               │
│           │              │               │
│ 追问按钮  │              │               │
│ 48px高    │              │               │
└───────────┴──────────────┴───────────────┘
│  底栏: 80px高 (输入区)                    │
└──────────────────────────────────────────┘
```

**布局参数:**
- AI记者区: `width: 25%; position: fixed; left: 0;`
- 镜像引擎区: `width: 50%; margin: 0 25% 0 25%;`
- 故事锚点区: `width: 25%; position: fixed; right: 0;`

#### 平板端 (768-1023px) - 收起AI记者
```
┌──────────────────────────────────────────┐
│  顶栏: [☰记者] 进度 [退出]  64px          │
├──────────────────┬───────────────────────┤
│  镜像引擎区      │  故事锚点区           │
│  60%宽           │  40%宽                │
│  滚动            │  滚动侧栏             │
│                  │                       │
│  镜像画布        │  时代素材（缩小）     │
│  1:1，max 500px  │  100x140px            │
│                  │                       │
│  年代选择器      │  事件时间线           │
│                  │                       │
└──────────────────┴───────────────────────┘
│  底栏: [🎤] 输入框 [AI记者💬]  72px       │
└──────────────────────────────────────────┘

AI记者区:
  - 收起为左侧抽屉（点击顶栏图标展开）
  - 抽屉覆盖层，宽度50%
  - 背景模糊遮罩
```

**交互变化:**
- AI记者对话在底栏显示小图标，点击展开抽屉
- 追问按钮改为底栏内联显示（横向滚动）

#### 手机端 (<768px) - Tab切换
```
┌──────────────────────────────────────────┐
│  顶栏: 进度 [退出]  56px                  │
├──────────────────────────────────────────┤
│  Tab导航: [💬对话] [🎨镜像] [📍时间线]  48px │
├──────────────────────────────────────────┤
│                                          │
│  当前激活Tab内容区（全屏）                │
│                                          │
│  Tab 1 - 对话:                           │
│    AI记者头像 64x64px (居中)              │
│    对话气泡堆叠（全宽 - 32px边距）         │
│    追问按钮堆叠（每个48px高）             │
│                                          │
│  Tab 2 - 镜像:                           │
│    镜像画布（1:1，全宽 - 32px边距）        │
│    年代选择器（底部）                     │
│                                          │
│  Tab 3 - 时间线:                         │
│    时代素材卡片（2列，间距16px）          │
│    事件时间线（单列）                     │
│                                          │
└──────────────────────────────────────────┘
│  固定底栏: [🎤] 输入框 [发送]  64px       │
└──────────────────────────────────────────┘
```

**交互调整:**
- Tab切换替代三区并存
- 输入栏始终固定底部（跨Tab可用）
- 语音按钮放大至56x56px（大触摸目标）

---

### 2.3 传记展示页面

#### 桌面端 (≥1024px)
```
Hero封面: 70vh高
  - 标题: 80px Display
  - 副标题: 24px Metadata

文章主列: 650px max-width，居中
  - 左右边距: 自动（实现居中）
  - 侧边目录: 固定在左侧（200px宽）

Drop Cap: 72px
Pull Quote: 32px字号
插图: 全宽（650px）
```

#### 平板端 (768-1023px)
```
Hero封面: 60vh高
  - 标题: 56px
  - 副标题: 21px

文章主列: 100%宽 - 48px边距
  - 侧边目录: 收起为顶部粘性导航
    - 横向滚动Tab
    - 点击跳转章节

Drop Cap: 56px
Pull Quote: 28px字号
插图: 全宽
```

#### 手机端 (<768px)
```
Hero封面: 50vh高
  - 标题: 40px
  - 副标题: 18px

文章主列: 100%宽 - 24px边距
  - 目录: 折叠为底部固定按钮"目录"
    - 点击弹出全屏目录层

Drop Cap: 48px（缩减避免移动端过大）
Pull Quote: 24px字号
插图: 全宽
  - 说明文字: 14px
```

---

## 3. 组件响应式规范

### 3.1 章节选择卡片

| 屏幕 | 布局 | 卡片尺寸 | 标题字号 | 图片高度 |
|------|------|----------|----------|----------|
| 桌面 (≥1024px) | 3列网格 | 33.33%宽 | 40px | 400px |
| 平板 (768-1023px) | 2列网格 | 50%宽 | 32px | 320px |
| 手机 (<768px) | 单列堆叠 | 100%宽 - 24px边距 | 28px | 240px |

**间距调整:**
- 桌面: 列间距32px，行间距48px
- 平板: 列间距24px，行间距32px
- 手机: 卡片间距24px

### 3.2 按钮组件

| 屏幕 | 主按钮高度 | 内边距 | 字号 | 最小宽度 |
|------|-----------|--------|------|---------|
| 桌面 | 56px | 24-32px | 16px | 160px |
| 平板 | 56px | 20-28px | 16px | 140px |
| 手机 | 56px | 16-24px | 16px | 全宽或120px |

**堆叠规则:**
- 桌面: 按钮横向排列，间距16px
- 手机: 按钮堆叠，间距16px，宽度100% - 32px边距

### 3.3 AI记者对话气泡

| 屏幕 | 最大宽度 | 内边距 | 头像大小 | 字号 |
|------|---------|--------|---------|------|
| 桌面 | 320px | 16-20px | 48x48px | 18px |
| 平板 | 280px | 14-18px | 40x40px | 18px |
| 手机 | 100% - 64px | 12-16px | 32x32px | 16px |

**布局变化:**
- 桌面/平板: 气泡+头像横向布局
- 手机: 头像居中，气泡下方堆叠

### 3.4 时代素材卡片

| 屏幕 | 布局 | 卡片尺寸 | 图标大小 | 文字大小 |
|------|------|----------|----------|----------|
| 桌面 | 单列堆叠 | 120x160px | 80x80px | 14px |
| 平板 | 单列堆叠 | 100x140px | 64x64px | 13px |
| 手机 | 2列网格 | 48%宽 | 56x56px | 12px |

---

## 4. 字体响应式缩放

### 4.1 字号缩放比例

```css
/* 基准: 桌面端(1024px+) */
--font-display: 64px;
--font-headline: 40px;
--font-body: 18px;

/* 平板端(768-1023px): 缩小12.5% */
--font-display: 56px;
--font-headline: 32px;
--font-body: 18px; /* 保持，阅读优先 */

/* 手机端(<768px): 缩小37.5% */
--font-display: 40px;
--font-headline: 28px;
--font-body: 18px; /* 保持，银发群体适配 */
```

### 4.2 行高调整

```css
/* 移动端增加行高，增强可读性 */
@media (max-width: 767px) {
  body {
    line-height: 1.7; /* 桌面1.6 → 移动1.7 */
  }
  
  h1, h2, h3 {
    line-height: 1.3; /* 桌面1.2 → 移动1.3 */
  }
}
```

---

## 5. 间距响应式系统

### 5.1 间距缩放表

| Token | 桌面(≥1024px) | 平板(768-1023px) | 手机(<768px) |
|-------|--------------|-----------------|--------------|
| `space-xs` | 8px | 8px | 8px |
| `space-sm` | 16px | 16px | 16px |
| `space-md` | 24px | 20px | 16px |
| `space-lg` | 32px | 28px | 24px |
| `space-xl` | 48px | 40px | 32px |
| `space-2xl` | 64px | 56px | 40px |
| `space-3xl` | 96px | 72px | 48px |
| `space-4xl` | 128px | 96px | 64px |

**原则:** 越大屏幕，间距越慷慨（营造呼吸感）

### 5.2 容器内边距

```css
/* 页面容器 */
.container {
  padding: 0 48px; /* 桌面 */
}

@media (max-width: 1023px) {
  .container {
    padding: 0 32px; /* 平板 */
  }
}

@media (max-width: 767px) {
  .container {
    padding: 0 24px; /* 手机 */
  }
}
```

---

## 6. 图片与媒体响应式

### 6.1 镜像画布

```css
.mirror-canvas {
  aspect-ratio: 1 / 1;
  max-width: 600px; /* 桌面 */
}

@media (max-width: 1023px) {
  .mirror-canvas {
    max-width: 500px; /* 平板 */
  }
}

@media (max-width: 767px) {
  .mirror-canvas {
    max-width: 100%; /* 手机，全宽 - 边距 */
    margin: 0 16px;
  }
}
```

### 6.2 传记插图

```css
.biography-image {
  width: 100%;
  height: auto;
  border-radius: 4px;
}

/* 图片说明 */
.image-caption {
  font-size: 16px; /* 桌面 */
  margin-top: 12px;
}

@media (max-width: 767px) {
  .image-caption {
    font-size: 14px; /* 手机缩小 */
    margin-top: 8px;
  }
}
```

---

## 7. 触摸优化

### 7.1 触摸目标尺寸

**最小标准:**
- iOS HIG: 44x44pt
- Material Design: 48x48dp
- **我们的标准: 56x56px**（银发群体适配）

**应用场景:**
```css
/* 主要操作按钮 */
.btn-primary {
  min-height: 56px;
  min-width: 56px;
}

/* 次要操作（如关闭图标） */
.btn-icon {
  min-height: 48px;
  min-width: 48px;
}

/* 小交互（如切换开关） */
.toggle {
  min-height: 44px;
  min-width: 44px;
}
```

### 7.2 触摸反馈

```css
/* 移动端增强点击反馈 */
@media (hover: none) and (pointer: coarse) {
  .btn:active {
    transform: scale(0.96); /* 轻微缩小 */
    opacity: 0.9;
    transition: transform 100ms ease-out;
  }
  
  .card:active {
    background-color: rgba(212, 165, 116, 0.05); /* 琥珀金淡色 */
  }
}
```

### 7.3 间距防误触

```css
/* 按钮组间距 */
.btn-group .btn + .btn {
  margin-left: 16px; /* 桌面 */
}

@media (max-width: 767px) {
  .btn-group .btn + .btn {
    margin-left: 0;
    margin-top: 16px; /* 手机堆叠+足够间距 */
  }
}
```

---

## 8. 性能优化

### 8.1 图片响应式加载

```html
<!-- 传记插图 -->
<img
  srcset="
    image-small.jpg 640w,
    image-medium.jpg 1024w,
    image-large.jpg 1920w
  "
  sizes="
    (max-width: 767px) 100vw,
    (max-width: 1023px) 650px,
    650px
  "
  src="image-medium.jpg"
  alt="1980年代，小学时代"
  loading="lazy"
/>
```

### 8.2 字体加载策略

```css
/* 关键字体预加载 */
<link rel="preload" href="/fonts/NotoSerifSC-Regular.woff2" as="font" type="font/woff2" crossorigin>

/* 字体显示策略 */
@font-face {
  font-family: 'Noto Serif SC';
  src: url('/fonts/NotoSerifSC-Regular.woff2') format('woff2');
  font-display: swap; /* 先用系统字体，加载后切换 */
}
```

### 8.3 移动端优化

```css
/* 减少重绘 */
.animated-element {
  will-change: transform, opacity;
}

/* 禁用iOS点击高亮 */
* {
  -webkit-tap-highlight-color: transparent;
}

/* 平滑滚动 */
html {
  scroll-behavior: smooth;
}

@media (prefers-reduced-motion: reduce) {
  html {
    scroll-behavior: auto; /* 尊重用户偏好 */
  }
}
```

---

## 9. 测试清单

### 9.1 设备测试矩阵

| 设备类型 | 屏幕尺寸 | 测试重点 |
|---------|---------|---------|
| **iPhone SE** | 375x667px | 最小屏幕适配、大字号可读性 |
| **iPhone 12 Pro** | 390x844px | 标准移动端体验 |
| **iPad** | 768x1024px | 平板布局切换、侧栏交互 |
| **iPad Pro** | 1024x1366px | 桌面/平板边界、三区联动 |
| **MacBook Air** | 1440x900px | 桌面标准分辨率 |
| **iMac 5K** | 2560x1440px | 大屏留白、容器最大宽度 |

### 9.2 功能测试清单

- [ ] 三区联动在平板正确收起AI记者
- [ ] 手机端Tab切换流畅，输入栏固定
- [ ] 传记文章在手机保持18px字号
- [ ] 所有按钮≥56px触摸目标
- [ ] 图片懒加载正常，srcset生效
- [ ] 横竖屏切换布局适配
- [ ] 软键盘弹出不遮挡输入区
- [ ] Pull Quote在手机缩小至24px仍可读

### 9.3 性能测试

- [ ] 首屏加载时间(FCP) <2.5s
- [ ] 最大内容绘制(LCP) <3.0s
- [ ] 累积布局偏移(CLS) <0.1
- [ ] 首次输入延迟(FID) <100ms

---

## 10. 浏览器兼容性

### 10.1 支持范围

**完全支持:**
- Chrome 90+
- Safari 14+ (iOS/macOS)
- Firefox 88+
- Edge 90+

**降级支持:**
- Safari 13 (iOS 13): 部分CSS Grid特性降级为Flexbox
- 老旧Android浏览器: 去除复杂动效，保留基础功能

### 10.2 Polyfills

```javascript
// CSS变量兼容
<script src="https://cdn.jsdelivr.net/npm/css-vars-ponyfill@2"></script>

// Intersection Observer (懒加载)
<script src="https://polyfill.io/v3/polyfill.min.js?features=IntersectionObserver"></script>
```

---

**文档版本:** 1.0  
**最后更新:** 2025-10-31  
**维护者:** MiniMax Agent
